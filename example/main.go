package main

import (
	"fmt"
	"time"

	"github.com/XigmaDev/huawei"
)

func main() {

	//mynumber := []string{"09153343508", "09155345761"}

	umrah1403 := []string{
		"09153353485", "09158344254", "09133522483", "09153353158", "09105030177",
		"09908299846", "09133596141", "09911727817", "09139694868", "09156297223",
		"09153353745", "09375854204", "09159920129", "09157222331", "09396656336",
		"09153352711", "09157711922", "09137780143", "09156031939", "09155335292",
		"09332970231", "09155345371", "09158602250", "09356350723", "09158341724",
		"09900109891", "09151649089", "09913881309", "09159340587", "09900937205",
		"09153342669", "09151370015", "09153342677", "09155340317", "09151370935",
		"09155358235", "09153352692", "09368472811", "09154978041", "09156041974",
		"09930758321", "09158341253", "09157221863", "09153353909", "09339183909",
		"09153353416", "09157713211", "09153354019", "09935615350", "09916099654",
		"09155628766", "09159632457", "09394149703", "09153357188", "09132532363",
		"09900755942", "09133735790", "09120922864", "09153350754", "09153353429",
		"09155354464", "09157564514", "09383748503", "09156638259", "09153358909",
		"09154955972", "09155359049", "09159384437", "09941665793", "09374293626",
		"09159351752", "09105478858", "09139680069", "09158837699", "09105673634",
		"09339758240", "09339428633", "09156709645", "09153343508", "09155345761",
	}

	h := huawei.NewHuawei("http://192.168.8.1")

	if err := h.Login("admin", "admin"); err != nil {
		fmt.Println("Login failed:", err)
		return
	}

	msg := "یادآوری واکسن مننژیت امشب ساعت ۱۹:۳۰ در هلال احمر بشرویه لطفاً به\u200cموقع مراجعه فرمایید. عسکری"
	print(len(msg))
	for _, phone := range umrah1403 {
		h.SendSMS(msg, phone)
		time.Sleep(3 * time.Second)
	}
}
